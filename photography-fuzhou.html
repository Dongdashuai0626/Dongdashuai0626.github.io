<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>福州印象 - Photography | Jiacheng Dong</title>
    <meta name="description" content="福州摄影作品集 - 记录城市风光、建筑人文与光影瞬间。">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#3498db">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="assets/images/icon-192.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/main.css">
    <script src="assets/js/main.js" defer></script>
</head>
<body>
    <header class="header">
        <nav class="nav container">
            <a href="/" class="logo" aria-label="首页">Jiacheng Dong</a>
            <button class="nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
                <span class="hamburger"></span>
                <span class="hamburger"></span>
                <span class="hamburger"></span>
            </button>
            <ul class="nav-links" role="navigation">
                <li class="nav-section" role="none">
                    <a href="/#about">About</a>
                    <a href="/#news">News</a>
                    <a href="/#research">Research</a>
                    <a href="/#experience">Experience</a>
                    <a href="/#education">Education</a>
                    <a href="/#awards">Awards</a>
                    <a href="/#contact">Contact</a>
                </li>
                <li class="nav-external" role="none">
                    <a href="/hobbies">Hobbies</a>
                    <a href="/photography" class="active">Photography</a>
                    <a href="/blog">Blog</a>
                    <a href="/sitemap">Sitemap</a>
                </li>
            </ul>
        </nav>
    </header>

    <main class="main">
        <section class="section">
            <div class="container">
                <a href="/photography" class="back-to-blog">← 返回摄影主页</a>

                <div class="page-title scroll-animate">
                    <h1>福州·榕城</h1>
                    <p class="text-secondary">福建省会 · 榕城古韵 · 拍摄于 2025年8月20日</p>
                </div>

                <div class="photography-gallery scroll-animate">
                    <div class="photo-item" data-photo="assets/images/photography/20250820-L1045105.jpg">
                        <img src="assets/images/photography/20250820-L1045105.jpg" alt="福州摄影作品 - 城市风光" loading="lazy">
                    </div>
                    <div class="photo-item" data-photo="assets/images/photography/20250820-L1045116.jpg">
                        <img src="assets/images/photography/20250820-L1045116.jpg" alt="福州摄影作品 - 建筑特色" loading="lazy">
                    </div>
                    <div class="photo-item" data-photo="assets/images/photography/20250820-L1045148.jpg">
                        <img src="assets/images/photography/20250820-L1045148.jpg" alt="福州摄影作品 - 街景纪实" loading="lazy">
                    </div>
                    <div class="photo-item" data-photo="assets/images/photography/20250820-L1045161.jpg">
                        <img src="assets/images/photography/20250820-L1045161.jpg" alt="福州摄影作品 - 光影瞬间" loading="lazy">
                    </div>
                    <div class="photo-item" data-photo="assets/images/photography/20250820-L1045166.jpg">
                        <img src="assets/images/photography/20250820-L1045166.jpg" alt="福州摄影作品 - 城市细节" loading="lazy">
                    </div>
                </div>

                <div class="card scroll-animate">
                    <div class="photography-meta" style="margin:0;">
                        <span>📷 使用设备：Leica V-LUX 5</span>
                        <span>📅 拍摄时间：2025年8月20日</span>
                        <span>🧭 拍摄地点：福州市</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Photo Modal -->
    <div id="photoModal" class="photo-modal">
        <div class="photo-modal-content">
            <span class="photo-modal-close">&times;</span>
            <img class="photo-modal-image" src="" alt="">
            <div class="photo-modal-nav">
                <button class="photo-nav-btn photo-prev">‹</button>
                <button class="photo-nav-btn photo-next">›</button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-links">
                <a href="mailto:Dong48@illinois.edu">Email</a>
                <a href="https://github.com/dongjiacheng06" target="_blank" rel="noopener">GitHub</a>
                <a href="index.html">主页</a>
                <a href="blog.html">博客</a>
            </div>
            <div>&copy; 2025 Jiacheng Dong. All rights reserved.</div>
        </div>
    </footer>

    <script>
    // 复用全局查看器逻辑：收集当前页图片作为集合
    document.addEventListener('DOMContentLoaded', () => {
        const items = Array.from(document.querySelectorAll('.photo-item'));
        const collection = items.map(it => ({
            src: it.getAttribute('data-photo'),
            alt: it.querySelector('img').alt
        }));

        const classify = (imgEl, src) => {
            const preload = new Image();
            preload.onload = () => {
                const ratio = preload.naturalHeight / preload.naturalWidth;
                const isPortrait = ratio > 1.0;
                const isUltraPortrait = ratio > 1.8;
                imgEl.classList.toggle('portrait', isPortrait);
                imgEl.classList.toggle('ultra-portrait', isUltraPortrait);
            };
            preload.src = src;
        };

        const open = (idx) => {
            const modal = document.getElementById('photoModal');
            const img = document.querySelector('.photo-modal-image');
            window.currentPhotoCollection = collection;
            window.currentPhotoIndex = idx;
            const { src, alt } = collection[idx];
            img.src = src;
            img.alt = alt;
            classify(img, src);
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
            updateBtns();
        };

        const updateBtns = () => {
            const prev = document.querySelector('.photo-prev');
            const next = document.querySelector('.photo-next');
            prev.disabled = window.currentPhotoIndex === 0;
            next.disabled = window.currentPhotoIndex === collection.length - 1;
        };

        items.forEach((it, i) => it.addEventListener('click', () => open(i)));

        document.querySelector('.photo-modal-close').addEventListener('click', () => {
            document.getElementById('photoModal').classList.remove('show');
            document.body.style.overflow = '';
        });
        document.querySelector('.photo-prev').addEventListener('click', () => {
            if (window.currentPhotoIndex > 0) {
                window.currentPhotoIndex--;
                const img = document.querySelector('.photo-modal-image');
                const { src, alt } = collection[window.currentPhotoIndex];
                img.src = src; img.alt = alt;
                classify(img, src);
                updateBtns();
            }
        });
        document.querySelector('.photo-next').addEventListener('click', () => {
            if (window.currentPhotoIndex < collection.length - 1) {
                window.currentPhotoIndex++;
                const img = document.querySelector('.photo-modal-image');
                const { src, alt } = collection[window.currentPhotoIndex];
                img.src = src; img.alt = alt;
                classify(img, src);
                updateBtns();
            }
        });

        // 点击图片切换 fit-width 查看（便于看细节），再次点击恢复
        document.addEventListener('click', (e) => {
            const modal = document.getElementById('photoModal');
            if (!modal.classList.contains('show')) return;
            const img = e.target.closest('.photo-modal-image');
            if (img) {
                img.classList.toggle('fit-width');
            }
        });
        document.getElementById('photoModal').addEventListener('click', (e) => {
            if (e.target === e.currentTarget) {
                e.currentTarget.classList.remove('show');
                document.body.style.overflow = '';
            }
        });
        document.addEventListener('keydown', (e) => {
            const modal = document.getElementById('photoModal');
            if (!modal.classList.contains('show')) return;
            if (e.key === 'Escape') {
                modal.classList.remove('show');
                document.body.style.overflow = '';
            } else if (e.key === 'ArrowLeft') {
                document.querySelector('.photo-prev').click();
            } else if (e.key === 'ArrowRight') {
                document.querySelector('.photo-next').click();
            }
        });
    });
    </script>
</body>
</html>


